stock.admin

stock.admin es una aplicaciÃ³n de escritorio desarrollada en Python con PyQt6, diseÃ±ada para gestionar de manera eficiente el inventario, obras, Ã³rdenes, usuarios y otros aspectos clave de una empresa. Su interfaz moderna y modular permite una navegaciÃ³n intuitiva y una administraciÃ³n centralizada de los recursos.

ğŸ“‹ Ãndice
ğŸ§¾ DescripciÃ³n del Proyecto

ğŸš€ CaracterÃ­sticas Principales

ğŸ› ï¸ TecnologÃ­as Utilizadas

ğŸ“ Estructura del Proyecto

âš™ï¸ InstalaciÃ³n y ConfiguraciÃ³n

ğŸ–¥ï¸ Uso de la AplicaciÃ³n

ğŸ” GestiÃ³n de Permisos y Seguridad

ğŸ“¦ ExportaciÃ³n de Datos

ğŸ§ª Pruebas y Validaciones

ğŸ“Œ Roadmap

ğŸ“„ Licencia

ğŸ§¾ DescripciÃ³n del Proyecto
stock.admin es una soluciÃ³n integral para la gestiÃ³n de inventarios y operaciones relacionadas en empresas que requieren un control detallado de sus recursos. La aplicaciÃ³n permite:

GestiÃ³n de Inventario: Control de stock, ajustes, reservas y generaciÃ³n de cÃ³digos QR para etiquetado.

AdministraciÃ³n de Obras: Seguimiento de proyectos, asignaciÃ³n de materiales y control de avances.

Ã“rdenes de Trabajo: CreaciÃ³n, seguimiento y cierre de Ã³rdenes con trazabilidad completa.

GestiÃ³n de Usuarios: AdministraciÃ³n de roles, permisos y auditorÃ­a de acciones.

LogÃ­stica y Mantenimiento: PlanificaciÃ³n de entregas, mantenimiento preventivo y correctivo de equipos.

ConfiguraciÃ³n Personalizada: Ajustes de la aplicaciÃ³n, temas claro/oscuro y preferencias de usuario.

ğŸš€ CaracterÃ­sticas Principales
Interfaz Moderna: DiseÃ±o limpio y responsivo con soporte para temas claro y oscuro.

Modularidad: Cada funcionalidad estÃ¡ encapsulada en mÃ³dulos independientes para facilitar el mantenimiento y la escalabilidad.

GestiÃ³n de Permisos: Control de acceso basado en roles para garantizar la seguridad de la informaciÃ³n.

ExportaciÃ³n de Datos: Posibilidad de exportar informaciÃ³n en formatos Excel y PDF.

GeneraciÃ³n de CÃ³digos QR: CreaciÃ³n de cÃ³digos QR para identificaciÃ³n rÃ¡pida de Ã­tems.

AuditorÃ­a: Registro detallado de acciones realizadas por los usuarios en el sistema.

ğŸ› ï¸ TecnologÃ­as Utilizadas
Lenguaje de ProgramaciÃ³n: Python 3.10

Framework de Interfaz GrÃ¡fica: PyQt6

Base de Datos: SQL Server

ORM: SQLAlchemy

GeneraciÃ³n de CÃ³digos QR: qrcode

ExportaciÃ³n a Excel: openpyxl

ExportaciÃ³n a PDF: ReportLab

Control de Versiones: Git

GestiÃ³n de Dependencias: pip

ğŸ“ Estructura del Proyecto
bash
Copiar
Editar
stock.admin/
â”œâ”€â”€ main.py
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ README.md
â”œâ”€â”€ config/
â”‚   â””â”€â”€ config.json
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ icons/
â”‚   â””â”€â”€ helpers.py
â”œâ”€â”€ themes/
â”‚   â”œâ”€â”€ dark.qss
â”‚   â””â”€â”€ light.qss
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ inventario/
â”‚   â”‚   â”œâ”€â”€ model.py
â”‚   â”‚   â”œâ”€â”€ view.py
â”‚   â”‚   â””â”€â”€ controller.py
â”‚   â”œâ”€â”€ obras/
â”‚   â”œâ”€â”€ ordenes/
â”‚   â”œâ”€â”€ usuarios/
â”‚   â”œâ”€â”€ auditoria/
â”‚   â”œâ”€â”€ logistica/
â”‚   â”œâ”€â”€ mantenimiento/
â”‚   â””â”€â”€ materiales/
â””â”€â”€ tests/
    â””â”€â”€ test_modules.py
âš™ï¸ InstalaciÃ³n y ConfiguraciÃ³n
Requisitos Previos
Python 3.10 instalado en el sistema.

SQL Server configurado y en funcionamiento.

Git para clonar el repositorio.

Pasos de InstalaciÃ³n
Clonar el repositorio:

bash
Copiar
Editar
git clone https://github.com/usuario/stock.admin.git
cd stock.admin
Crear y activar un entorno virtual:

bash
Copiar
Editar
python -m venv venv
source venv/bin/activate  # En Windows: venv\Scripts\activate
Instalar las dependencias:

bash
Copiar
Editar
pip install -r requirements.txt
Configurar la base de datos:

Crear una base de datos en SQL Server llamada inventario.

Ejecutar los scripts de creaciÃ³n de tablas ubicados en scripts/sql/.

Configurar el archivo config.json:

json
Copiar
Editar
{
  "db_connection": "Driver={SQL Server};Server=SERVIDOR;Database=inventario;Trusted_Connection=yes;",
  "theme": "dark",
  "default_language": "es"
}
Ejecutar la aplicaciÃ³n:

bash
Copiar
Editar
python main.py
ğŸ–¥ï¸ Uso de la AplicaciÃ³n
Al iniciar la aplicaciÃ³n, se presenta una interfaz con una barra lateral que permite navegar entre los diferentes mÃ³dulos:

Inventario: VisualizaciÃ³n y gestiÃ³n de los Ã­tems en stock.

Obras: Seguimiento de proyectos y asignaciÃ³n de recursos.

Ã“rdenes: CreaciÃ³n y seguimiento de Ã³rdenes de trabajo.

Usuarios: AdministraciÃ³n de cuentas y permisos.

AuditorÃ­a: RevisiÃ³n de acciones realizadas en el sistema.

LogÃ­stica: PlanificaciÃ³n y seguimiento de entregas.

Mantenimiento: Registro y programaciÃ³n de mantenimientos.

Materiales: GestiÃ³n de herrajes y materiales especÃ­ficos.

Cada mÃ³dulo ofrece funcionalidades especÃ­ficas, como bÃºsqueda, filtrado, exportaciÃ³n de datos y generaciÃ³n de reportes.

ğŸ” GestiÃ³n de Permisos y Seguridad
La aplicaciÃ³n implementa un sistema de roles para controlar el acceso a las diferentes funcionalidades:

Administrador: Acceso completo a todas las funcionalidades.

Supervisor: GestiÃ³n de inventario y obras.

Usuario: Acceso limitado segÃºn las asignaciones.

AdemÃ¡s, se registra un historial de acciones para auditorÃ­a y seguimiento de cambios.

ğŸ“¦ ExportaciÃ³n de Datos
Los mÃ³dulos de la aplicaciÃ³n permiten exportar la informaciÃ³n visualizada en formatos:

Excel (.xlsx): Para anÃ¡lisis y manipulaciÃ³n de datos.

PDF: Para generaciÃ³n de reportes y documentaciÃ³n.

La exportaciÃ³n incluye los filtros aplicados y respeta la configuraciÃ³n de columnas visibles.

ğŸ§ª Pruebas y Validaciones
Se han implementado pruebas unitarias y de integraciÃ³n para garantizar la estabilidad del sistema:

Pruebas Unitarias: ValidaciÃ³n de funciones individuales en los mÃ³dulos.

Pruebas de IntegraciÃ³n: VerificaciÃ³n del flujo de datos entre mÃ³dulos y la base de datos.

Pruebas de Interfaz: Asegurar la correcta interacciÃ³n del usuario con la aplicaciÃ³n.

Las pruebas se encuentran en el directorio tests/ y pueden ejecutarse con:

bash
Copiar
Editar
pytest tests/
ğŸ“Œ Roadmap
 ImplementaciÃ³n de mÃ³dulo de Inventario.

 Desarrollo de mÃ³dulo de Obras.

 IntegraciÃ³n de mÃ³dulo de Ã“rdenes.

 GestiÃ³n de Usuarios y Roles.

 AuditorÃ­a de acciones.

 MÃ³dulo de LogÃ­stica.

 MÃ³dulo de Mantenimiento.

 MÃ³dulo de Materiales (Herrajes).

 ImplementaciÃ³n de notificaciones por correo.

 IntegraciÃ³n con sistemas externos (ERP, CRM).

 Desarrollo de aplicaciÃ³n mÃ³vil complementaria.

ğŸ“„ Licencia
Este proyecto estÃ¡ licenciado bajo la Licencia MIT. Consulta el archivo LICENSE para mÃ¡s detalles.

------------------------------------------------------------------------------------------------------------------


ğŸ§  GuÃ­a de Desarrollo y Referencia para stock.admin

Este documento sirve como guÃ­a oficial para Copilot y cualquier desarrollador que trabaje sobre el proyecto stock.admin. Define la estructura, lÃ³gica esperada y acciones por mÃ³dulo. Todo cambio en el sistema debe seguir esta referencia.

âœ¨ GENERALIDADES

El proyecto estÃ¡ hecho en Python 3.10 con PyQt6

El diseÃ±o de la UI debe tener bordes redondeados, botones con sombra y estilos modernos

El cambio de tema claro/oscuro debe reflejarse en todos los widgets, incluyendo tablas

La app debe poder iniciar incluso sin conexiÃ³n a la base de datos

Toda acciÃ³n debe dejar trazabilidad en el mÃ³dulo de auditorÃ­a

ğŸ¢ CONEXIÃ“N Y CONFIGURACIÃ“N DE BASE DE DATOS

Se define en el archivo config/config.json

Debe permitir seleccionar servidor y credenciales desde un panel de configuraciÃ³n visual

Las bases actuales son:

inventario: contiene materiales, stock, obras, etc.

usuarios: informaciÃ³n de usuarios y roles

auditorias: toda acciÃ³n ejecutada en la app

ğŸ“… MÃ“DULO: INVENTARIO

Objetivo

GestÃ­n y visualizaciÃ³n del stock actual.

Acciones permitidas:

Ver listado de perfiles y cantidades

Buscar por cÃ³digo, descripciÃ³n o estado

Agregar nuevo material (formulario con campos obligatorios: cÃ³digo, descripciÃ³n, cantidad, tipo)

Ajustar stock:

Abre una ventana modal

Se ingresa un cÃ³digo de perfil, se muestra automÃ¡ticamente el nombre

Se ingresa la cantidad y se registra en la DB

Queda guardado en la tabla ajustes_stock con usuario, fecha y motivo

Eliminar o modificar material

Generar QR por material

ğŸ›ï¸ MÃ“DULO: OBRAS

Objetivo

Cargar, visualizar y modificar obras.

Acciones permitidas:

Cargar nueva obra (nombre, apellido, direcciÃ³n, telÃ©fono, etc.)

Asignar fecha de mediciÃ³n, fabricaciÃ³n y colocaciÃ³n

Ver cronograma global

Ver estado de avance por porcentajes

Ver perfiles reservados y materiales pedidos

ğŸšš MÃ“DULO: LOGÃSTICA

Objetivo

Coordinar entregas, colocaciones y pedidos de vidrio.

Acciones permitidas:

Registrar finalizaciÃ³n de obra (con formulario de lo pendiente)

Ver cronograma de instalaciÃ³n

Registrar pedido de vidrios (vinculado a obra y abertura)

Confirmar llegada de vidrios

Indicar tipologÃ­a, proveedor, medidas

Generar comparativa de presupuestos de vidrio

ğŸ’ª MÃ“DULO: USUARIOS

Objetivo

GestÃ­n de usuarios, sesiones y permisos

Acciones permitidas:

Crear, editar o eliminar usuarios

Asignar roles: admin, supervisor, logÃ­stica, ventas, etc.

Ver sesiÃ³n activa y usuario actual

Cambiar contraseÃ±a

ğŸ“Š MÃ“DULO: AUDITORÃA

Objetivo

Trazabilidad completa de las acciones del sistema

Acciones permitidas:

Filtrar acciones por usuario, fecha o mÃ³dulo

Ver detalles de acciÃ³n ejecutada

ğŸª¨ MÃ“DULO: MATERIALES (Herrajes)

Objetivo

Control de herrajes disponibles y su uso en obras

Acciones permitidas:

Cargar herraje nuevo

Ver listado con columnas: cÃ³digo, descripciÃ³n, cantidad, ubicaciÃ³n

Editar o eliminar herraje

Exportar Excel o PDF

Asociar a obra o reserva

ğŸ‹ï¸ MÃ“DULO: MANTENIMIENTO

Objetivo

Llevar registro de mantenimiento preventivo y correctivo de vehÃ­culos, herramientas o equipos

Acciones permitidas:

Agendar mantenimiento

Ver historial de mantenimientos

Asociar a vehÃ­culo, responsable, tipo de tarea

ğŸ”§ MÃ“DULO: CONFIGURACIÃ“N

Objetivo

Personalizar y ajustar opciones del sistema

Acciones permitidas:

Cambiar tema (claro/oscuro)

Configurar conexiÃ³n a la base de datos

Ver estado de conexiÃ³n

Guardar preferencias entre sesiones

ğŸ–‡ï¸ REGLAS GENERALES PARA COPILOT

NO crear archivos en rutas incorrectas. Respetar estructura de modules/{modulo}/

Usar los nombres exactos de tablas en la base de datos

Todo debe dejar un registro en auditorÃ­a

Si una acciÃ³n requiere privilegios, verificar el rol del usuario

Siempre validar formularios antes de insertar o actualizar

Evitar crasheos: si la DB no estÃ¡ conectada, mostrar aviso y dejar funcional lo demÃ¡s